{"version":3,"sources":["ui/components/stateless/bottom_app_bar/BottomAppBar.tsx","ui/components/stateless/header_app_bar/HeaderAppBar.tsx","ui/components/stateful/data_editor/DataEditor.tsx","core/util.ts","core/event_processing.ts","ui/components/stateful/chart_section/ChartSection.tsx","ui/screens/app/App.tsx","core/hooks.ts","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","appBar","top","bottom","grow","flexGrow","button","margin","spacing","input","display","BottomAppBar","onGenerateChartButtonPress","classes","AppBar","position","color","className","Toolbar","Button","variant","onClick","root","icon","marginLeft","marginRight","title","HeaderAppBar","Typography","align","DataEditor","height","handleEditorChange","onChange","language","_randomU16Value","Math","round","random","capitalize","s","charAt","toUpperCase","slice","generateLabelFromDataSetInfo","group","selection","osInfo","browserInfo","split","reduce","acc","value","processText","events","data","console","log","events_count","i","eventsData","get_events_data_by_idx","processedDataSets","dataset_vec","map","dataset","green","red","blue","colorA1","colorA0_4","label","fill","pointHoverBorderColor","backgroundColor","borderColor","pointBorderColor","pointHoverBackgroundColor","points","point","x","timestamp","y","push","datasets","TabPanel","props","children","index","other","component","role","hidden","id","aria-labelledby","Box","p","ChartSection","useState","setValue","useEffect","options","React","useMemo","maintainAspectRatio","responsive","scales","xAxes","type","labelString","ticks","fontSize","fontColor","yAxes","beginAtZero","legend","fullWidth","Tabs","event","newValue","aria-label","Tab","key","style","width","alignItems","flex","createMuiTheme","palette","primary","main","grey","secondary","handleDragBar","resizeHandle","App","text","setText","wasm","setWASM","setData","editorHeight","setEditorHeight","size","setSize","useLayoutEffect","debouncedFunction","debounce","oldSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","initialEditorHeight","setInitialEditorHeight","useCallback","a","Events","from_text","graphHeight","ThemeProvider","Infinity","axis","minConstraints","maxConstraints","onResize","element","handle","resizeHandles","ev","Boolean","location","hostname","match","monaco","init","then","languages","typescript","typescriptDefaults","setDiagnosticsOptions","noSemanticValidation","noSyntaxValidation","catch","error","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d3bf8219.chunk.js","sourcesContent":["import * as React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  input: {\n    display: 'none',\n  },\n}))\n\nexport interface BottomAppBarProps {\n  onGenerateChartButtonPress?: React.MouseEventHandler\n}\n\nexport default function BottomAppBar({\n  onGenerateChartButtonPress,\n}: BottomAppBarProps) {\n  const classes = useStyles()\n\n  return (\n    <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\n      <Toolbar>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          onClick={onGenerateChartButtonPress}\n        >\n          Generate Chart\n        </Button>\n      </Toolbar>\n    </AppBar>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport MultilineChart from '@material-ui/icons/MultilineChartRounded'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  icon: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}))\n\ninterface HeaderAppBarProps {\n  title: String\n}\n\nexport default function HeaderAppBar({ title }: HeaderAppBarProps) {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <MultilineChart className={classes.icon} />\n          <Typography align=\"left\" variant=\"h6\" className={classes.title}>\n            {title}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n  ControlledEditor,\n  ControlledEditorOnChange,\n} from '@monaco-editor/react'\nimport './DataEditor.css'\n\ninterface DataEditorProps {\n  height?: string | number | undefined\n  handleEditorChange?: ControlledEditorOnChange | undefined\n}\n\nconst DataEditor = ({\n  height = '50vh',\n  handleEditorChange,\n}: DataEditorProps) => {\n  return (\n    <ControlledEditor\n      theme=\"dark\"\n      height={height}\n      onChange={handleEditorChange}\n      language=\"typescript\"\n    />\n  )\n}\n\nexport default DataEditor\n","export interface ColorProps {\n  green: number\n  red: number\n  blue: number\n}\n\nfunction _randomU16Value(): number {\n  return Math.round(Math.random() * 255)\n}\n\nexport function randomColor(): ColorProps {\n  return {\n    green: _randomU16Value(),\n    red: _randomU16Value(),\n    blue: _randomU16Value(),\n  }\n}\nexport function capitalize(s: string): string {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport function generateLabelFromDataSetInfo(\n  group: string[],\n  selection: string\n): string {\n  let osInfo = group[0] ? `${capitalize(group[0])} ` : ''\n  let browserInfo = group[1] ? `${capitalize(group[1])} ` : ''\n  return `${osInfo}${browserInfo}${selection\n    .split('_')\n    .reduce(\n      (acc: string, value: string) =>\n        acc ? `${acc} ${capitalize(value)}` : capitalize(value),\n      ''\n    )}`\n}\n","import { Events } from 'event_processing/event_processing'\nimport { generateLabelFromDataSetInfo, randomColor } from './util'\n// @ts-ignore\nimport * as chartjs from 'chart.js'\nimport { ChartData } from 'react-chartjs-2'\n\nexport interface Point {\n  timestamp: number\n  value: number\n}\n\nexport interface DataSet {\n  group: string[]\n  selection: string\n  points: Point[]\n}\n\nexport function processText(\n  events: Events | undefined\n): ChartData<chartjs.ChartData>[] {\n  if (events) {\n    let data: ChartData<chartjs.ChartData>[] = []\n    console.log(events.events_count())\n    for (let i = 0; i < events.events_count(); i++) {\n      let eventsData = events.get_events_data_by_idx(i)\n      if (eventsData) {\n        const dataSets: DataSet[] = eventsData.dataset_vec()\n        const processedDataSets = dataSets.map(dataset => {\n          let color = randomColor()\n          let colorA1 = `rgba(${color.red}, ${color.green}, ${color.blue}, 1)`\n          let colorA0_4 = `rgba(${color.red}, ${color.green}, ${color.blue}, 0.4)`\n          return {\n            label: generateLabelFromDataSetInfo(\n              dataset.group,\n              dataset.selection\n            ),\n            fill: false,\n            pointHoverBorderColor: 'rgba(220,220,220,1)',\n            backgroundColor: colorA0_4,\n            borderColor: colorA1,\n            pointBorderColor: colorA1,\n            pointHoverBackgroundColor: colorA1,\n            data: dataset.points.map(point => ({\n              x: point.timestamp - dataset.points[0].timestamp,\n              y: point.value,\n            })),\n          }\n        })\n        data.push({ datasets: processedDataSets })\n      }\n    }\n    return data\n  }\n  return [{ datasets: [] }]\n}\n","import { ChartData, Line } from 'react-chartjs-2'\n// @ts-ignore\nimport * as chartjs from 'chart.js'\nimport React, { CSSProperties, useEffect, useState } from 'react'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\ninterface ChartSectionProps {\n  data: ChartData<chartjs.ChartData>[]\n  style: CSSProperties\n}\n\nfunction TabPanel(props: any) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`wrapped-tabpanel-${index}`}\n      aria-labelledby={`wrapped-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  )\n}\n\nconst ChartSection = (props: ChartSectionProps) => {\n  const [value, setValue] = useState(0)\n  const handleChange = (event: any, newValue: any) => {\n    setValue(newValue)\n  }\n  useEffect(() => {\n    setValue(0)\n  }, [props.data])\n  const options = React.useMemo(\n    () => ({\n      maintainAspectRatio: false,\n      responsive: true,\n      scales: {\n        xAxes: [\n          {\n            type: 'linear',\n            display: true,\n            labelString: 'Milliseconds',\n            ticks: {\n              fontSize: '10',\n              fontColor: '#969da5',\n            },\n          },\n        ],\n        yAxes: [\n          {\n            display: true,\n            type: 'linear',\n            labelString: 'Response Time',\n            ticks: {\n              beginAtZero: true,\n            },\n          },\n        ],\n      },\n    }),\n    []\n  )\n  const legend = React.useMemo(\n    () => ({\n      display: true,\n      position: 'right',\n      fullWidth: true,\n    }),\n    []\n  )\n  return (\n    <div>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        aria-label=\"wrapped label tabs example\"\n      >\n        {props.data.map((data, index) => {\n          return <Tab value={index} label={`Chart ${index}`} key={index} />\n        })}\n      </Tabs>\n      {props.data.map((data, index) => {\n        return (\n          <TabPanel value={value} index={index} key={index}>\n            <div\n              style={{\n                height: '100%',\n                width: '100%',\n                alignItems: 'center',\n                flex: 1,\n                display: 'flex',\n                // justifyContent: 'center'\n              }}\n            >\n              <div\n                style={{\n                  position: 'relative',\n                  ...props.style,\n                }}\n              >\n                <Line data={data} options={options} legend={legend} />\n              </div>\n            </div>\n          </TabPanel>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ChartSection\n","import React, { ReactElement, useCallback, useEffect, useState } from 'react'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core'\nimport { grey, blue } from '@material-ui/core/colors'\nimport DragHandleRounded from '@material-ui/icons/DragHandleRounded'\nimport BottomAppBar from '../../components/stateless/bottom_app_bar/BottomAppBar'\nimport HeaderAppBar from '../../components/stateless/header_app_bar/HeaderAppBar'\nimport DataEditor from '../../components/stateful/data_editor/DataEditor'\n// @ts-ignore\nimport { ResizableBox } from 'react-resizable'\nimport { useWindowSize } from '../../../core/hooks'\nimport './App.css'\nimport 'react-resizable/css/styles.css'\nimport { processText } from '../../../core/event_processing'\nimport ChartSection from '../../components/stateful/chart_section/ChartSection'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[300],\n    },\n    secondary: {\n      main: blue[500],\n    },\n  },\n})\n\nfunction handleDragBar(resizeHandle: string): ReactElement<any> {\n  return (\n    <div className={`draggable-icon`}>\n      <DragHandleRounded color={'primary'} />\n    </div>\n  )\n}\n\nfunction App() {\n  const [text, setText] = useState('')\n  const [wasm, setWASM] = useState()\n  const [data, setData] = useState([{ datasets: [] }])\n  const [editorHeight, setEditorHeight] = useState(0)\n  const [width, height] = useWindowSize()\n  const [initialEditorHeight, setInitialEditorHeight] = useState(0)\n\n  const handleEditorChange = (ev: any, value: string | undefined) => {\n    if (value) {\n      setText(value)\n    }\n  }\n\n  const onGenerateChartButtonPress = useCallback(async () => {\n    if (text && wasm) {\n      const events = wasm.Events.from_text(text)\n      if (events) {\n        setData(processText(events))\n      }\n    }\n  }, [text, wasm])\n  useEffect(() => {\n    if (initialEditorHeight === 0) {\n      setInitialEditorHeight(height / 2)\n      setEditorHeight(height / 2 - 64)\n    }\n  }, [height, initialEditorHeight])\n  useEffect(() => {\n    ;(async () => {\n      setWASM(await import('event_processing/event_processing'))\n    })()\n  }, [])\n\n  const onResize = (event: any, { element, size, handle }: any) => {\n    setEditorHeight(size.height)\n  }\n\n  const graphHeight = height - editorHeight - 128\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <HeaderAppBar title=\"Jordao's Challenge\" />\n        <div style={{ height: height - 128 }}>\n          <ResizableBox\n            height={initialEditorHeight - 64}\n            width={Infinity}\n            axis=\"y\"\n            minConstraints={[0, (height - 128) * 0.25]}\n            maxConstraints={[Infinity, (height - 128) * 0.75]}\n            onResize={onResize}\n            resizeHandles={['s']}\n            handle={handleDragBar}\n          >\n            <DataEditor\n              height={editorHeight}\n              handleEditorChange={handleEditorChange}\n            />\n          </ResizableBox>\n          <div style={{ height: graphHeight, width }}>\n            <ChartSection\n              data={data}\n              style={{\n                height: `${graphHeight * 0.9 - 64}px`,\n                width: `${width}px`,\n              }}\n            />\n          </div>\n        </div>\n        <BottomAppBar onGenerateChartButtonPress={onGenerateChartButtonPress} />\n      </ThemeProvider>\n    </div>\n  )\n}\n\nexport default App\n","import { useLayoutEffect, useState } from 'react'\nimport debounce from 'lodash/debounce'\n\nexport function useWindowSize() {\n  const [size, setSize] = useState([0, 0])\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize(oldSize => {\n        return [window.innerWidth, window.innerHeight]\n      })\n    }\n    const debouncedFunction = debounce(updateSize, 150)\n    window.addEventListener('resize', debouncedFunction)\n    debouncedFunction()\n    return () => window.removeEventListener('resize', debouncedFunction)\n  }, [])\n  return size\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './ui/screens/app/App';\nimport * as serviceWorker from './serviceWorker';\nimport { monaco } from '@monaco-editor/react';\nmonaco\n  .init()\n  .then(monaco => {\n    monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n      noSemanticValidation: true,\n      noSyntaxValidation: true,\n    });\n  })\n  .catch(error =>\n    console.error('An error occurred during initialization of Monaco: ', error)\n  );\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}