{"version":3,"sources":["ui/components/stateless/bottom_app_bar/BottomAppBar.tsx","ui/components/stateless/header_app_bar/HeaderAppBar.tsx","ui/components/stateful/data_editor/DataEditor.tsx","core/util.ts","core/event_processing.ts","core/event_processing_without_wasm.ts","ui/components/stateful/chart_section/ChartSection.tsx","ui/screens/app/App.tsx","core/hooks.ts","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","appBar","top","bottom","grow","flexGrow","button","margin","spacing","input","display","BottomAppBar","onGenerateChartButtonPress","classes","AppBar","position","color","className","Toolbar","Button","variant","onClick","root","icon","marginLeft","marginRight","title","HeaderAppBar","Typography","align","DataEditor","height","handleEditorChange","onChange","language","_randomU16Value","Math","round","random","randomColor","green","red","blue","capitalize","s","charAt","toUpperCase","slice","generateLabelFromDataSetInfo","group","selection","groupInfo","map","groupValue","keyName","value","String","Number","Bool","Null","join","split","reduce","acc","measureTime","fun","name","t0","performance","now","result","t1","console","log","processEvents","events","data","i","events_count","eventsData","get_events_data_by_idx","processedDataSets","dataset_vec","dataset","colorA1","colorA0_4","label","fill","pointHoverBorderColor","backgroundColor","borderColor","pointBorderColor","pointHoverBackgroundColor","points","point","x","timestamp","y","push","datasets","Point","this","event","type","isInGroup","forEach","g","key","DataSet","EventsMapped","startEvent","stopEvent","spanEvent","dataEvents","select","groupMap","eventData","groupIdx","groupKey","_insertInGroupMap","length","dataSets","groups","first","rest","init","n","vec","list","b","flatMap","xs","cartesianProduct","Object","keys","dataSetsGroup","_getPointsFromDataSets","vecPoint","vIdx","_","hasSpan","hasStop","stopTimestamp","spanEndTimestamp","end","spanBeginTimestamp","begin","eKey","dataSet","dIdx","fromEvent","processText","text","lines","linesCount","eventsMappedVec","eventsMapped","hasStarted","line","lineIdx","JSON","parse","replace","$1","e","processLineEvent","addDataEvent","TabPanel","props","children","index","other","component","role","hidden","id","aria-labelledby","Box","p","ChartSection","useState","setValue","useEffect","options","React","useMemo","maintainAspectRatio","responsive","scales","xAxes","labelString","ticks","fontSize","fontColor","yAxes","beginAtZero","legend","fullWidth","Tabs","newValue","aria-label","Tab","style","width","alignItems","flex","createMuiTheme","palette","primary","main","grey","secondary","handleDragBar","resizeHandle","App","setText","wasm","setWASM","setData","editorHeight","setEditorHeight","size","setSize","useLayoutEffect","debouncedFunction","debounce","oldSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","initialEditorHeight","setInitialEditorHeight","useCallback","a","eventMapped","getDatasets","val","withoutWasmResult","withoutElapsedTime","Events","from_text","withWasmResult","withElapsedTime","graphHeight","ThemeProvider","Infinity","axis","minConstraints","maxConstraints","onResize","element","handle","resizeHandles","ev","Boolean","location","hostname","match","monaco","then","languages","typescript","typescriptDefaults","setDiagnosticsOptions","noSemanticValidation","noSyntaxValidation","catch","error","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"oZAMMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,OAAQ,CACNC,IAAK,OACLC,OAAQ,GAEVC,KAAM,CACJC,SAAU,GAEZC,OAAQ,CACNC,OAAQP,EAAMQ,QAAQ,IAExBC,MAAO,CACLC,QAAS,YAQE,SAASC,EAAT,GAEQ,IADrBC,EACoB,EADpBA,2BAEMC,EAAUf,IAEhB,OACE,gBAACgB,EAAA,EAAD,CAAQC,SAAS,QAAQC,MAAM,UAAUC,UAAWJ,EAAQZ,QAC1D,gBAACiB,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,CACEC,QAAQ,YACRJ,MAAM,YACNC,UAAWJ,EAAQP,OACnBe,QAAST,GAJX,oB,8BC3BFd,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCsB,KAAM,CACJjB,SAAU,GAEZkB,KAAM,CACJC,WAAYxB,EAAMQ,QAAQ,GAC1BiB,YAAazB,EAAMQ,QAAQ,IAE7BkB,MAAO,CACLrB,SAAU,OAQC,SAASsB,EAAT,GAAqD,IAA7BD,EAA4B,EAA5BA,MAC/Bb,EAAUf,IAEhB,OACE,yBAAKmB,UAAWJ,EAAQS,MACtB,kBAACR,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACG,EAAA,EAAD,KACE,kBAAC,IAAD,CAAgBD,UAAWJ,EAAQU,OACnC,kBAACK,EAAA,EAAD,CAAYC,MAAM,OAAOT,QAAQ,KAAKH,UAAWJ,EAAQa,OACtDA,M,YCPEI,G,OAdI,SAAC,GAGI,IAAD,IAFrBC,cAEqB,MAFZ,OAEY,EADrBC,EACqB,EADrBA,mBAEA,OACE,kBAAC,mBAAD,CACEhC,MAAM,OACN+B,OAAQA,EACRE,SAAUD,EACVE,SAAS,iB,uCCff,SAASC,IACP,OAAOC,KAAKC,MAAsB,IAAhBD,KAAKE,UAGlB,SAASC,IACd,MAAO,CACLC,MAAOL,IACPM,IAAKN,IACLO,KAAMP,KAGH,SAASQ,EAAWC,GACzB,OAAOA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,GAiBtC,SAASC,EACdC,EACAC,GAEA,IAAIC,EAAYF,EAAMG,KAAI,YAAuB,IAlBjBC,EAkBgB,mBAApBC,EAAoB,KAAXC,EAAW,KAC9C,MAAM,GAAN,OAAUZ,EAAWW,GAArB,aAAkCX,GAnBJU,EAmBiCE,GAlBlDC,OACNH,EAAWG,OACTH,EAAWI,OACbJ,EAAWI,OACTJ,EAAWK,KACbL,EAAWK,KACTL,EAAWM,KACb,OAEA,QAUNC,KAAK,MACR,MAAM,GAAN,OAAUT,EAAYA,EAAY,KAAM,IAAxC,OAA6CD,EAC1CW,MAAM,KACNC,QACC,SAACC,EAAaR,GAAd,OACEQ,EAAG,UAAMA,EAAN,YAAapB,EAAWY,IAAWZ,EAAWY,KACnD,KC9BC,SAASS,EAAYC,GAAiC,IAAvBC,EAAsB,uDAAP,MAC7CC,EAAKC,YAAYC,MACjBC,EAASL,IACTM,EAAKH,YAAYC,MAEvB,OADAG,QAAQC,IAAI,kBAAWP,EAAX,WAA2BK,EAAKJ,GAAhC,kBACL,CAACG,EAAQH,EAAII,EAAIA,EAAKJ,GAExB,SAASO,EACdC,GAEA,GAAIA,EAAQ,CAEV,IADA,IAAIC,EAAuC,GAClCC,EAAI,EAAGA,EAAIF,EAAOG,eAAgBD,IAAK,CAC9C,IAAIE,EAAaJ,EAAOK,uBAAuBH,GAC/C,GAAIE,EAAY,CACd,IACME,EADsBF,EAAWG,cACJ9B,KAAI,SAAA+B,GACrC,IAAInE,EAAQuB,IACR6C,EAAO,eAAWpE,EAAMyB,IAAjB,aAAyBzB,EAAMwB,MAA/B,aAAyCxB,EAAM0B,KAA/C,QACP2C,EAAS,eAAWrE,EAAMyB,IAAjB,aAAyBzB,EAAMwB,MAA/B,aAAyCxB,EAAM0B,KAA/C,UACb,MAAO,CACL4C,MAAOtC,EACLmC,EAAQlC,MACRkC,EAAQjC,WAEVqC,MAAM,EACNC,sBAAuB,sBACvBC,gBAAiBJ,EACjBK,YAAaN,EACbO,iBAAkBP,EAClBQ,0BAA2BR,EAC3BR,KAAMO,EAAQU,OAAOzC,KAAI,SAAA0C,GAAK,MAAK,CACjCC,EAAGD,EAAME,UAAYb,EAAQU,OAAO,GAAGG,UACvCC,EAAGH,EAAMvC,cAIfqB,EAAKsB,KAAK,CAAEC,SAAUlB,KAG1B,OAAOL,EAET,MAAO,CAAC,CAAEuB,SAAU,K,4CChCTC,EAAb,WAIE,WAAY7C,EAAeyC,GAAoB,yBAH/CzC,WAG8C,OAF9CyC,eAE8C,EAC5CK,KAAK9C,MAAQA,EACb8C,KAAKL,UAAYA,EANrB,2DASmBM,EAAkBpD,EAAmBD,GACpD,GAAIqD,GAAwB,SAAfA,EAAMC,KAAiB,CAClC,IAAMT,EAAQ,IAAIM,EAAM,EAAGE,EAAMN,WAC7BQ,GAAY,EAKhB,GAJAvD,EAAMwD,SAAQ,SAACC,GACb,IAAI9B,EAAQ0B,EAAcI,EAAEC,KAC5BH,EAAYA,GAAa5B,IAAS8B,EAAEnD,SAElCiD,EAEF,OADAV,EAAMvC,MAAS+C,EAAcpD,GACtB4C,OAnBf,KA+Bac,EAIX,WAAY1D,EAAmBD,EAAqB4C,GAAmB,yBAHvEA,YAGsE,OAFtE3C,eAEsE,OADtED,WACsE,EACpEoD,KAAKnD,UAAYA,EACjBmD,KAAKR,OAASA,GAAU,GACxBQ,KAAKpD,MAAQA,GAAS,IAIb4D,EAAb,WAQE,aAAe,yBAPfC,gBAOc,OANdC,eAMc,OALdC,eAKc,OAJdC,gBAIc,OAHdC,YAGc,OAFdC,cAEc,EACZd,KAAKY,WAAa,GAClBZ,KAAKc,SAAW,GAVpB,yDAaeC,GAEX,GADAf,KAAKY,WAAWf,KAAKkB,GACjBf,KAAKS,YAAcT,KAAKS,WAAW7D,MACrC,IAAK,IAAIoE,KAAYhB,KAAKS,WAAW7D,MAAO,CAC1C,IAAIqE,EAAWjB,KAAKS,WAAW7D,MAAMoE,GACjC9D,EAAQ6D,EAAUE,GAClB/D,GACF8C,KAAKkB,kBAAkBD,EAAU/D,MApB3C,wCA0BoBoD,EAAapD,GACzB8C,KAAKc,SAASR,GAChBN,KAAKc,SAASR,GAAKpD,IAAS,EAE5B8C,KAAKc,SAASR,GAAd,eACGpD,GAAQ,KA/BjB,oCAoC4B,IAAD,OACvB,GAAI8C,KAAKa,QAAUb,KAAKa,OAAOM,OAAS,GAClCnB,KAAKS,WAAY,CACnB,IAAIW,EAAsB,GAC1B,GAAIpB,KAAKS,WAAW7D,OAASoD,KAAKS,WAAW7D,MAAMuE,OAAS,EAAG,CAC7D,IAMIE,EAoIP,SAA0BjH,GAA2B,IAAD,cAChCA,GAAlBkH,EADkD,KACxCC,EADwC,WAErDC,EAAOF,EAAMvE,KAAI,SAAC0E,GACpB,MAAO,CAACA,MAEV,OAAOF,EAAK9D,QAAO,SAACiE,EAAKC,GAAN,OAGiBC,EAHoBD,EAALD,EAI1CG,SAAQ,SAACC,GAChB,OAAOF,EAAE7E,KAAI,SAAC6C,GACZ,IAAI8B,EAAG,YAAOI,GAEd,OADAJ,EAAI7B,KAAKD,GACF8B,QALb,IAAsCE,IAH2BJ,GAzI1BO,CANXC,OAAOC,KAAKjC,KAAKc,UAAU/D,KAAI,SAACuD,GAChD,OAAO0B,OAAOC,KAAK,EAAKnB,SAASR,IAAMvD,KAAI,SAACC,GAAD,MAAiB,CAC1DsD,MACApD,MAAOF,UAIXgD,KAAKa,OAAOT,SACV,SAAC7D,GACC,IAAI2F,EAAgBb,EAAOtE,KAAI,SAACH,GAC9B,OAAO,IAAI2D,EAAQhE,EAAGK,MAExBwE,EAASvB,KAAT,MAAAuB,EAAQ,YAASc,YAIrBlC,KAAKa,OAAOT,SACV,SAAC7D,GACC6E,EAASvB,KAAK,IAAIU,EAAQhE,OAQhC,OAJgByD,KAAKmC,uBAAuBf,GAClChB,SAAQ,SAACgC,EAAUC,GAC3BjB,EAASiB,GAAM7C,OAAS4C,KAEnBhB,EAGX,MAAO,KAtEX,6CAyEyBtB,GAAiC,IAAD,OACjDN,EAAoB,GACxBM,EAASM,SAAQ,SAACkC,EAAG9D,GAAJ,OAAUgB,EAAOhB,GAAK,MACvC,IAAM+D,IAAYvC,KAAKW,UACjB6B,IAAYxC,KAAKU,UACjB+B,EAAgBzC,KAAKU,UAAYV,KAAKU,UAAUf,UAAY,EAC5D+C,EAAmB1C,KAAKW,UAAYX,KAAKW,UAAUgC,IAAM,EACzDC,EAAqB5C,KAAKW,UAAYX,KAAKW,UAAUkC,MAAQ,EAPd,WAQ5CC,GACP,IAAI7C,EAAQ,EAAKW,WAAWkC,GAC5BhD,EAASM,SAAQ,SAAC2C,EAASC,GACzB,IAAIvD,EAAQM,EAAMkD,UAAUhD,EAAO8C,EAAQlG,UAAWkG,EAAQnG,OAC1D6C,IAAW+C,GAAWC,GAAiBhD,EAAME,YAAe6C,KAAcD,GAAW9C,EAAME,WAAaiD,GAAsBnD,EAAME,WAAa+C,IAAsBH,IACzK/C,EAAOwD,GAAMnD,KAAKJ,OALxB,IAAK,IAAIqD,KAAQ9C,KAAKY,WAAa,EAA1BkC,GAST,OAAOtD,MA1FX,KAgGO,SAAS0D,EAAYC,GAC1B,IAAMC,EAAQD,EAAK3F,MAAM,WACnB6F,EAAaD,EAAMjC,OACnBmC,EAAkC,GACpCC,EAAe,IAAI/C,EACnBgD,GAAa,EAwCjB,OAvCAJ,EAAMhD,SAAQ,SAACqD,EAAMC,GACnB,IAAM3C,EAoEH,SAA0B0C,GAC/B,IACE,OAAOE,KAAKC,MAA0BH,EA4BrCI,QAAQ,kBAAkB,SAASvB,EAAGwB,GAAI,MAAO,IAAIA,EAAG,QAExDD,QAAQ,cAAc,SAASvB,EAAGwB,GAAI,MAAO,IAAIA,EAAG,QA7BrD,MAAOC,GACP,OAAO,MAxEWC,CAAiBP,GACnC,GAAG1C,EACD,OAAQA,EAAUb,MAChB,IAAK,QACCsD,GACFF,EAAgBzD,KAAK0D,IACrBA,EAAe,IAAI/C,GACNK,OAASE,EAAUF,OAChC0C,EAAa9C,WAAaM,IAE1BwC,EAAa1C,OAASE,EAAUF,OAChC0C,EAAa9C,WAAaM,EAC1ByC,GAAa,GAEf,MACF,IAAK,OACHD,EAAa5C,UAAYI,EACzB,MACF,IAAK,OACCyC,GACFD,EAAaU,aAAalD,GAE5B,MACF,IAAK,OACHwC,EAAa7C,UAAYK,EACzBuC,EAAgBzD,KAAK0D,GACrBA,EAAe,IAAI/C,EACnBgD,GAAa,EAIfE,IAAYL,IACVE,EAAa9C,YACf6C,EAAgBzD,KAAK0D,GAEvBA,EAAe,IAAI/C,MAGhB8C,E,ymBCpMT,SAASY,GAASC,GAAa,IACrBC,EAAqCD,EAArCC,SAAUlH,EAA2BiH,EAA3BjH,MAAOmH,EAAoBF,EAApBE,MAAUC,EADP,YACiBH,EADjB,8BAG5B,OACE,kBAAC5I,EAAA,EAAD,eACEgJ,UAAU,MACVC,KAAK,WACLC,OAAQvH,IAAUmH,EAClBK,GAAE,2BAAsBL,GACxBM,kBAAA,sBAAgCN,IAC5BC,GAEHpH,IAAUmH,GAAS,kBAACO,EAAA,EAAD,CAAKC,EAAG,GAAIT,IAKtC,IAsFeU,GAtFM,SAACX,GAA8B,IAAD,EACvBY,mBAAS,GADc,mBAC1C7H,EAD0C,KACnC8H,EADmC,KAKjDC,qBAAU,WACRD,EAAS,KACR,CAACb,EAAM5F,OACV,IAAM2G,EAAUC,IAAMC,SACpB,iBAAO,CACLC,qBAAqB,EACrBC,YAAY,EACZC,OAAQ,CACNC,MAAO,CACL,CACEtF,KAAM,SACN7F,SAAS,EACToL,YAAa,eACbC,MAAO,CACLC,SAAU,KACVC,UAAW,aAIjBC,MAAO,CACL,CACExL,SAAS,EACT6F,KAAM,SACNuF,YAAa,gBACbC,MAAO,CACLI,aAAa,SAMvB,IAEIC,EAASZ,IAAMC,SACnB,iBAAO,CACL/K,SAAS,EACTK,SAAU,QACVsL,WAAW,KAEb,IAEF,OACE,6BACE,kBAACC,EAAA,EAAD,CACE/I,MAAOA,EACPtB,SAhDe,SAACqE,EAAYiG,GAChClB,EAASkB,IAgDLC,aAAW,8BAEVhC,EAAM5F,KAAKxB,KAAI,SAACwB,EAAM8F,GACrB,OAAO,kBAAC+B,EAAA,EAAD,CAAKlJ,MAAOmH,EAAOpF,MAAK,gBAAWoF,GAAS/D,IAAK+D,QAG3DF,EAAM5F,KAAKxB,KAAI,SAACwB,EAAM8F,GACrB,OACE,kBAACH,GAAD,CAAUhH,MAAOA,EAAOmH,MAAOA,EAAO/D,IAAK+D,GACzC,yBACEgC,MAAO,CACL3K,OAAQ,OACR4K,MAAO,OACPC,WAAY,SACZC,KAAM,EACNnM,QAAS,SAIX,yBACEgM,MAAK,IACH3L,SAAU,YACPyJ,EAAMkC,QAGX,kBAAC,IAAD,CAAM9H,KAAMA,EAAM2G,QAASA,EAASa,OAAQA,YC1FtDpM,GAAQ8M,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAMC,IAAK,MAEbC,UAAW,CACTF,KAAMvK,IAAK,SAKjB,SAAS0K,GAAcC,GACrB,OACE,yBAAKpM,UAAS,kBACZ,kBAAC,IAAD,CAAmBD,MAAO,aAsFjBsM,OAjFf,WAAgB,IAAD,EACWlC,mBAAS,IADpB,mBACN5B,EADM,KACA+D,EADA,OAEWnC,qBAFX,mBAENoC,EAFM,KAEAC,EAFA,OAGWrC,mBAAS,CAAC,CAAEjF,SAAU,MAHjC,mBAGNvB,EAHM,KAGA8I,EAHA,OAI2BtC,mBAAS,GAJpC,mBAINuC,EAJM,KAIQC,EAJR,OCjCR,WAA0B,IAAD,EACNxC,mBAAS,CAAC,EAAG,IADP,mBACvByC,EADuB,KACjBC,EADiB,KAa9B,OAXAC,2BAAgB,WAMd,IAAMC,EAAoBC,KAL1B,WACEH,GAAQ,SAAAI,GACN,MAAO,CAACC,OAAOC,WAAYD,OAAOE,kBAGS,KAG/C,OAFAF,OAAOG,iBAAiB,SAAUN,GAClCA,IACO,kBAAMG,OAAOI,oBAAoB,SAAUP,MACjD,IACIH,EDyBiBW,GALX,mBAKN7B,EALM,KAKC5K,EALD,OAMyCqJ,mBAAS,GANlD,mBAMNqD,EANM,KAMeC,EANf,KAcP9N,EAA6B+N,sBAAW,sBAAC,0CAAAC,EAAA,sDACzCpF,GAAQgE,IAAO,EACiCxJ,GAAY,kBAA0BuF,EAAYC,GFkKpFpG,KAAI,SAACyL,GAEvB,MAAO,CACL1I,SAFe0I,EAAYC,cAER1L,KAAI,SAAA+B,GACrB,IAAInE,EAAQuB,IACR6C,EAAO,eAAWpE,EAAMyB,IAAjB,aAAyBzB,EAAMwB,MAA/B,aAAyCxB,EAAM0B,KAA/C,QACP2C,EAAS,eAAWrE,EAAMyB,IAAjB,aAAyBzB,EAAMwB,MAA/B,aAAyCxB,EAAM0B,KAA/C,UACb,MAAO,CACL4C,MAAM,GAAD,OAAKH,EAAQlC,MAAMa,QAAO,SAACC,EAAKgL,GAAN,gBAAiBhL,EAAjB,YAAwBpB,EAAWoM,EAAIpI,KAAvC,YAA+ChE,EAAWoM,EAAIxL,UAAnF,KAAL,OAAwGZ,EAAWwC,EAAQjC,YAChIqC,MAAM,EACNC,sBAAuB,sBACvBC,gBAAiBJ,EACjBK,YAAaN,EACbO,iBAAkBP,EAClBQ,0BAA2BR,EAC3BR,KAAMO,EAAQU,OAAOzC,KAAI,SAAA0C,GAAK,MAAK,CACjCC,EAAGD,EAAME,UAAYb,EAAQU,OAAO,GAAGG,UACvCC,EAAGH,EAAMvC,oBEnL6F,gBAD5F,mBACTyL,EADS,KACYC,EADZ,OAE4BjL,GAAY,WACtD,IAAMW,EAAS6I,EAAK0B,OAAOC,UAAU3F,GACrC,OAAI7E,EACKD,EAAcC,GAEd,KAER,aATa,mBAETyK,EAFS,KAESC,EAFT,KAUhB3B,EAAQuB,EAAqBI,EAAkBL,EAAoBI,IAXxB,2CAa5C,CAAC5F,EAAMgE,IACVlC,qBAAU,WACoB,IAAxBmD,IACFC,EAAuB3M,EAAS,GAChC6L,EAAgB7L,EAAS,EAAI,OAE9B,CAACA,EAAQ0M,IACZnD,qBAAU,WACP,sBAAC,sBAAAsD,EAAA,kEACAnB,EADA,SACc,8BADd,4EAAD,KAGA,IAEH,IAIM6B,EAAcvN,EAAS4L,EAAe,IAC5C,OACE,yBAAK1M,UAAU,OACb,kBAACsO,EAAA,EAAD,CAAevP,MAAOA,IACpB,kBAAC2B,EAAD,CAAcD,MAAM,uBACpB,yBAAKgL,MAAO,CAAE3K,OAAQA,EAAS,MAC7B,kBAAC,eAAD,CACEA,OAAQ0M,EAAsB,GAC9B9B,MAAO6C,IACPC,KAAK,IACLC,eAAgB,CAAC,EAAoB,KAAhB3N,EAAS,MAC9B4N,eAAgB,CAACH,IAA2B,KAAhBzN,EAAS,MACrC6N,SAhBO,SAACtJ,EAAD,GAAgD,EAAjCuJ,QAAkC,IAAzBhC,EAAwB,EAAxBA,KAAwB,EAAlBiC,OAC7ClC,EAAgBC,EAAK9L,SAgBbgO,cAAe,CAAC,KAChBD,OAAQ1C,IAER,kBAAC,EAAD,CACErL,OAAQ4L,EACR3L,mBAtDe,SAACgO,EAASzM,GAC/BA,GACFgK,EAAQhK,OAuDJ,yBAAKmJ,MAAO,CAAE3K,OAAQuN,EAAa3C,UACjC,kBAAC,GAAD,CACE/H,KAAMA,EACN8H,MAAO,CACL3K,OAAO,GAAD,OAAmB,GAAduN,EAAoB,GAAzB,MACN3C,MAAM,GAAD,OAAKA,EAAL,WAKb,kBAAChM,EAAD,CAAcC,2BAA4BA,OEnG9BqP,QACW,cAA7B9B,OAAO+B,SAASC,UAEe,UAA7BhC,OAAO+B,SAASC,UAEhBhC,OAAO+B,SAASC,SAASC,MACvB,2DCZNC,SACGxI,OACAyI,MAAK,SAAAD,GACJA,EAAOE,UAAUC,WAAWC,mBAAmBC,sBAAsB,CACnEC,sBAAsB,EACtBC,oBAAoB,OAGvBC,OAAM,SAAAC,GAAK,OACVtM,QAAQsM,MAAM,sDAAuDA,MAGzEC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SD+G3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMf,MAAK,SAAAgB,GACjCA,EAAaC,kB","file":"static/js/main.82ac5a8e.chunk.js","sourcesContent":["import * as React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  input: {\n    display: 'none',\n  },\n}))\n\nexport interface BottomAppBarProps {\n  onGenerateChartButtonPress?: React.MouseEventHandler\n}\n\nexport default function BottomAppBar({\n  onGenerateChartButtonPress,\n}: BottomAppBarProps) {\n  const classes = useStyles()\n\n  return (\n    <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\n      <Toolbar>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n          onClick={onGenerateChartButtonPress}\n        >\n          Generate Chart\n        </Button>\n      </Toolbar>\n    </AppBar>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport MultilineChart from '@material-ui/icons/MultilineChartRounded'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  icon: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}))\n\ninterface HeaderAppBarProps {\n  title: String\n}\n\nexport default function HeaderAppBar({ title }: HeaderAppBarProps) {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <MultilineChart className={classes.icon} />\n          <Typography align=\"left\" variant=\"h6\" className={classes.title}>\n            {title}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n  ControlledEditor,\n  ControlledEditorOnChange,\n} from '@monaco-editor/react'\nimport './DataEditor.css'\n\ninterface DataEditorProps {\n  height?: string | number | undefined\n  handleEditorChange?: ControlledEditorOnChange | undefined\n}\n\nconst DataEditor = ({\n  height = '50vh',\n  handleEditorChange,\n}: DataEditorProps) => {\n  return (\n    <ControlledEditor\n      theme=\"dark\"\n      height={height}\n      onChange={handleEditorChange}\n      language=\"typescript\"\n    />\n  )\n}\n\nexport default DataEditor\n","export interface ColorProps {\n  green: number\n  red: number\n  blue: number\n}\n\nfunction _randomU16Value(): number {\n  return Math.round(Math.random() * 255)\n}\n\nexport function randomColor(): ColorProps {\n  return {\n    green: _randomU16Value(),\n    red: _randomU16Value(),\n    blue: _randomU16Value(),\n  }\n}\nexport function capitalize(s: string): string {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport function getValueFromGroup(groupValue: any): string {\n  if (groupValue.String) {\n    return groupValue.String\n  } else if (groupValue.Number) {\n    return groupValue.Number\n  } else if (groupValue.Bool) {\n    return groupValue.Bool\n  } else if (groupValue.Null) {\n    return \"Null\"\n  } else {\n    return \"\"\n  }\n}\n\nexport function generateLabelFromDataSetInfo(\n  group: any[],\n  selection: string\n): string {\n  let groupInfo = group.map(([keyName, value]) => {\n    return `${capitalize(keyName)}: ${capitalize(getValueFromGroup(value))}`\n  }).join(\", \")\n  return `${groupInfo ? groupInfo + ', ': ''}${selection\n    .split('_')\n    .reduce(\n      (acc: string, value: string) =>\n        acc ? `${acc} ${capitalize(value)}` : capitalize(value),\n      ''\n    )}`\n}\n","import { Events } from 'event_processing/event_processing'\nimport { generateLabelFromDataSetInfo, randomColor } from './util'\n// @ts-ignore\nimport * as chartjs from 'chart.js'\nimport { ChartData } from 'react-chartjs-2'\n\nexport interface Point {\n  timestamp: number\n  value: number\n}\n\nexport interface DataSet {\n  group: string[]\n  selection: string\n  points: Point[]\n}\n\nexport function measureTime(fun: any, name: string = \"fun\") {\n  const t0 = performance.now();\n  const result = fun();\n  const t1 = performance.now();\n  console.log(`Call to ${name} took ` + (t1 - t0) + ` milliseconds.`);\n  return [result, t0, t1, t1 - t0]\n}\nexport function processEvents(\n  events: Events | undefined\n): ChartData<chartjs.ChartData>[] {\n  if (events) {\n    let data: ChartData<chartjs.ChartData>[] = []\n    for (let i = 0; i < events.events_count(); i++) {\n      let eventsData = events.get_events_data_by_idx(i)\n      if (eventsData) {\n        const dataSets: DataSet[] = eventsData.dataset_vec()\n        const processedDataSets = dataSets.map(dataset => {\n          let color = randomColor()\n          let colorA1 = `rgba(${color.red}, ${color.green}, ${color.blue}, 1)`\n          let colorA0_4 = `rgba(${color.red}, ${color.green}, ${color.blue}, 0.4)`\n          return {\n            label: generateLabelFromDataSetInfo(\n              dataset.group,\n              dataset.selection\n            ),\n            fill: false,\n            pointHoverBorderColor: 'rgba(220,220,220,1)',\n            backgroundColor: colorA0_4,\n            borderColor: colorA1,\n            pointBorderColor: colorA1,\n            pointHoverBackgroundColor: colorA1,\n            data: dataset.points.map(point => ({\n              x: point.timestamp - dataset.points[0].timestamp,\n              y: point.value,\n            })),\n          }\n        })\n        data.push({ datasets: processedDataSets })\n      }\n    }\n    return data\n  }\n  return [{ datasets: [] }]\n}\n","import { randomColor, generateLabelFromDataSetInfo, capitalize } from \"./util\";\nimport { ChartData } from \"react-chartjs-2\";\n// @ts-ignore\nimport * as chartjs from 'chart.js'\n\nexport interface EventBase {\n  type: string,\n  timestamp: number\n}\n\nexport interface StartEvent extends EventBase {\n  select?: string[],\n  group?: string[]\n}\n\nexport interface StopEvent extends EventBase {\n\n}\n\nexport interface SpanEvent extends EventBase {\n  end: number,\n  begin: number\n}\n\nexport interface DataEvent extends EventBase, Object {\n}\n\nexport class Point {\n  value: number;\n  timestamp: number;\n\n  constructor(value: number, timestamp: number) {\n    this.value = value\n    this.timestamp = timestamp\n  }\n\n  static fromEvent(event: DataEvent, selection: string, group: Groupable[]): Point | undefined {\n    if (event && event.type === 'data') {\n      const point = new Point(0, event.timestamp)\n      let isInGroup = true;\n      group.forEach((g) => {\n        let data = (event as any)[g.key]\n        isInGroup = isInGroup && data === g.value\n      })\n      if (isInGroup) {\n        point.value = (event as any)[selection]\n        return point\n      }\n    }\n    return;\n  }\n}\n\nexport interface Groupable {\n  key: string,\n  value: any\n}\n\nexport class DataSet {\n  points: Point[];\n  selection: string;\n  group: Groupable[];\n  constructor(selection: string, group?: Groupable[], points?: Point[]) {\n    this.selection = selection\n    this.points = points || []\n    this.group = group || []\n  }\n}\n\nexport class EventsMapped {\n  startEvent?: StartEvent;\n  stopEvent?: StopEvent;\n  spanEvent?: SpanEvent;\n  dataEvents: EventBase[];\n  select?: string[];\n  groupMap: any;\n\n  constructor() {\n    this.dataEvents = []\n    this.groupMap = {}\n  }\n\n  addDataEvent(eventData: any) {\n    this.dataEvents.push(eventData)\n    if (this.startEvent && this.startEvent.group) {\n      for (let groupIdx in this.startEvent.group) {\n        let groupKey = this.startEvent.group[groupIdx]\n        let value = eventData[groupKey]\n        if (value) {\n          this._insertInGroupMap(groupKey, value)\n        }\n      }\n    }\n  }\n\n  _insertInGroupMap(key: string, value: any) {\n    if (this.groupMap[key]) {\n      this.groupMap[key][value] = true\n    } else {\n      this.groupMap[key] = {\n        [value]: true\n      }\n    }\n  }\n\n  getDatasets(): DataSet[] {\n    if (this.select && this.select.length > 0) {\n      if (this.startEvent) {\n        let dataSets: DataSet[] = []\n        if (this.startEvent.group && this.startEvent.group.length > 0) {\n          let groupValues = Object.keys(this.groupMap).map((key) => {\n            return Object.keys(this.groupMap[key]).map((groupValue) => ({\n              key,\n              value: groupValue\n            }))\n          })\n          let groups : Groupable[][] = cartesianProduct(groupValues)\n          this.select.forEach(\n            (s) => {\n              let dataSetsGroup = groups.map((group) => {\n                return new DataSet(s, group)\n              })\n              dataSets.push(...dataSetsGroup)\n            }\n          )\n        } else {\n          this.select.forEach(\n            (s) => {\n              dataSets.push(new DataSet(s))\n            }\n          )\n        }\n        let vecPoints = this._getPointsFromDataSets(dataSets)\n        vecPoints.forEach((vecPoint, vIdx) => {\n          dataSets[vIdx].points = vecPoint\n        })\n        return dataSets\n      }\n    }\n    return []\n  }\n\n  _getPointsFromDataSets(datasets: DataSet[]): Point[][] {\n    let points: Point[][] = []\n    datasets.forEach((_, i) => points[i] = [])\n    const hasSpan = !!this.spanEvent\n    const hasStop = !!this.stopEvent\n    const stopTimestamp = this.stopEvent ? this.stopEvent.timestamp : 0 \n    const spanEndTimestamp = this.spanEvent ? this.spanEvent.end : 0\n    const spanBeginTimestamp = this.spanEvent ? this.spanEvent.begin : 0\n    for (let eKey in this.dataEvents) {\n      let event = this.dataEvents[eKey]\n      datasets.forEach((dataSet, dIdx) => {\n        let point = Point.fromEvent(event, dataSet.selection, dataSet.group)\n        if (point && ((hasStop && stopTimestamp >= point.timestamp) || !hasStop) && ((hasSpan && point.timestamp >= spanBeginTimestamp && point.timestamp && spanEndTimestamp) || !hasSpan) ) {\n          points[dIdx].push(point)\n        }\n      })\n    }\n    return points\n  }\n}\n\n\n\nexport function processText(text: string): EventsMapped[] {\n  const lines = text.split(/\\r\\n|\\n/)\n  const linesCount = lines.length\n  const eventsMappedVec: EventsMapped[] = []\n  let eventsMapped = new EventsMapped()\n  let hasStarted = false\n  lines.forEach((line, lineIdx) => {\n    const eventData = processLineEvent(line)\n    if(eventData) {\n      switch (eventData.type) {\n        case 'start':\n          if (hasStarted) {\n            eventsMappedVec.push(eventsMapped)\n            eventsMapped = new EventsMapped()\n            eventsMapped.select = eventData.select\n            eventsMapped.startEvent = eventData\n          } else {\n            eventsMapped.select = eventData.select\n            eventsMapped.startEvent = eventData\n            hasStarted = true\n          }\n          break;\n        case 'span':\n          eventsMapped.spanEvent = eventData\n          break;\n        case 'data':\n          if (hasStarted) {\n            eventsMapped.addDataEvent(eventData)\n          }\n          break;\n        case 'stop':\n          eventsMapped.stopEvent = eventData\n          eventsMappedVec.push(eventsMapped)\n          eventsMapped = new EventsMapped()\n          hasStarted = false;\n        default:\n      }\n    }\n    if (lineIdx === linesCount) {\n      if (eventsMapped.startEvent) {\n        eventsMappedVec.push(eventsMapped)\n      }\n      eventsMapped = new EventsMapped()\n    }\n  })\n  return eventsMappedVec\n}\n\nexport function processEventsMapped(eventsMapped: EventsMapped[]): ChartData<chartjs.ChartData>[] {\n  return eventsMapped.map((eventMapped) => {\n    const dataSets = eventMapped.getDatasets()\n    return {\n      datasets: dataSets.map(dataset => {\n        let color = randomColor()\n        let colorA1 = `rgba(${color.red}, ${color.green}, ${color.blue}, 1)`\n        let colorA0_4 = `rgba(${color.red}, ${color.green}, ${color.blue}, 0.4)`\n        return {\n          label: `${dataset.group.reduce((acc, val) => `${acc} ${capitalize(val.key)}:${capitalize(val.value)}`, ``)}${capitalize(dataset.selection)}`,\n          fill: false,\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\n          backgroundColor: colorA0_4,\n          borderColor: colorA1,\n          pointBorderColor: colorA1,\n          pointHoverBackgroundColor: colorA1,\n          data: dataset.points.map(point => ({\n            x: point.timestamp - dataset.points[0].timestamp,\n            y: point.value,\n          })),\n        }\n      })\n    }\n  })\n\n}\n\nexport function processLineEvent(line: string): any {\n  try {\n    return JSON.parse(convertToStrictJSON(line))\n  } catch (e) {\n    return null\n  }\n}\n\nexport function cartesianProduct(input: any[][] ): any[][] {\n  const [first, ...rest] = input\n  let init = first.map((n) => {\n    return [n]\n  })\n  return rest.reduce((vec, list) => partialCartesian(vec, list), init)\n}\n\nfunction partialCartesian(a: any[][], b: any[]): any[][] {\n  return a.flatMap((xs) => {\n    return b.map((y) => {\n      let vec = [...xs]\n      vec.push(y)\n      return vec\n    })\n  })\n}\n\n\nexport function convertToStrictJSON(jsonString: string): string {\n  return jsonString\n    // wrap keys without quote with valid double quote\n    .replace(/([\\$\\w]+)\\s*:/g, function(_, $1){return '\"'+$1+'\":'})    \n    // replacing single quote wrapped ones to double quote \n    .replace(/'([^']+)'/g, function(_, $1){return '\"'+$1+'\"'})\n}","import { ChartData, Line } from 'react-chartjs-2'\n// @ts-ignore\nimport * as chartjs from 'chart.js'\nimport React, { CSSProperties, useEffect, useState } from 'react'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\ninterface ChartSectionProps {\n  data: ChartData<chartjs.ChartData>[]\n  style: CSSProperties\n}\n\nfunction TabPanel(props: any) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`wrapped-tabpanel-${index}`}\n      aria-labelledby={`wrapped-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  )\n}\n\nconst ChartSection = (props: ChartSectionProps) => {\n  const [value, setValue] = useState(0)\n  const handleChange = (event: any, newValue: any) => {\n    setValue(newValue)\n  }\n  useEffect(() => {\n    setValue(0)\n  }, [props.data])\n  const options = React.useMemo(\n    () => ({\n      maintainAspectRatio: false,\n      responsive: true,\n      scales: {\n        xAxes: [\n          {\n            type: 'linear',\n            display: true,\n            labelString: 'Milliseconds',\n            ticks: {\n              fontSize: '10',\n              fontColor: '#969da5',\n            },\n          },\n        ],\n        yAxes: [\n          {\n            display: true,\n            type: 'linear',\n            labelString: 'Response Time',\n            ticks: {\n              beginAtZero: true,\n            },\n          },\n        ],\n      },\n    }),\n    []\n  )\n  const legend = React.useMemo(\n    () => ({\n      display: true,\n      position: 'right',\n      fullWidth: true,\n    }),\n    []\n  )\n  return (\n    <div>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        aria-label=\"wrapped label tabs example\"\n      >\n        {props.data.map((data, index) => {\n          return <Tab value={index} label={`Chart ${index}`} key={index} />\n        })}\n      </Tabs>\n      {props.data.map((data, index) => {\n        return (\n          <TabPanel value={value} index={index} key={index}>\n            <div\n              style={{\n                height: '100%',\n                width: '100%',\n                alignItems: 'center',\n                flex: 1,\n                display: 'flex',\n                // justifyContent: 'center'\n              }}\n            >\n              <div\n                style={{\n                  position: 'relative',\n                  ...props.style,\n                }}\n              >\n                <Line data={data} options={options} legend={legend} />\n              </div>\n            </div>\n          </TabPanel>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ChartSection\n","import React, { ReactElement, useCallback, useEffect, useState } from 'react'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core'\nimport { grey, blue } from '@material-ui/core/colors'\nimport DragHandleRounded from '@material-ui/icons/DragHandleRounded'\nimport BottomAppBar from '../../components/stateless/bottom_app_bar/BottomAppBar'\nimport HeaderAppBar from '../../components/stateless/header_app_bar/HeaderAppBar'\nimport DataEditor from '../../components/stateful/data_editor/DataEditor'\n// @ts-ignore\nimport { ResizableBox } from 'react-resizable'\nimport { useWindowSize } from '../../../core/hooks'\nimport './App.css'\nimport 'react-resizable/css/styles.css'\nimport { processEvents, measureTime } from '../../../core/event_processing'\nimport { processText, processEventsMapped } from '../../../core/event_processing_without_wasm'\nimport ChartSection from '../../components/stateful/chart_section/ChartSection'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[300],\n    },\n    secondary: {\n      main: blue[500],\n    },\n  },\n})\n\nfunction handleDragBar(resizeHandle: string): ReactElement<any> {\n  return (\n    <div className={`draggable-icon`}>\n      <DragHandleRounded color={'primary'} />\n    </div>\n  )\n}\n\nfunction App() {\n  const [text, setText] = useState('')\n  const [wasm, setWASM] = useState()\n  const [data, setData] = useState([{ datasets: [] }])\n  const [editorHeight, setEditorHeight] = useState(0)\n  const [width, height] = useWindowSize()\n  const [initialEditorHeight, setInitialEditorHeight] = useState(0)\n\n  const handleEditorChange = (ev: any, value: string | undefined) => {\n    if (value) {\n      setText(value)\n    }\n  }\n\n  const onGenerateChartButtonPress = useCallback(async () => {\n    if (text && wasm) {\n      const [withoutWasmResult,,, withoutElapsedTime] = measureTime(() => processEventsMapped(processText(text)), 'without wasm')\n      const [withWasmResult,,, withElapsedTime] = measureTime(() => {\n        const events = wasm.Events.from_text(text)\n        if (events) {\n          return processEvents(events)\n        } else {\n          return []\n        }\n      }, 'with wasm')\n      setData(withoutElapsedTime < withElapsedTime ? withoutWasmResult : withWasmResult)\n    }\n  }, [text, wasm])\n  useEffect(() => {\n    if (initialEditorHeight === 0) {\n      setInitialEditorHeight(height / 2)\n      setEditorHeight(height / 2 - 64)\n    }\n  }, [height, initialEditorHeight])\n  useEffect(() => {\n    ;(async () => {\n      setWASM(await import('event_processing/event_processing'))\n    })()\n  }, [])\n\n  const onResize = (event: any, { element, size, handle }: any) => {\n    setEditorHeight(size.height)\n  }\n\n  const graphHeight = height - editorHeight - 128\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <HeaderAppBar title=\"Jordao's Challenge\" />\n        <div style={{ height: height - 128 }}>\n          <ResizableBox\n            height={initialEditorHeight - 64}\n            width={Infinity}\n            axis=\"y\"\n            minConstraints={[0, (height - 128) * 0.25]}\n            maxConstraints={[Infinity, (height - 128) * 0.75]}\n            onResize={onResize}\n            resizeHandles={['s']}\n            handle={handleDragBar}\n          >\n            <DataEditor\n              height={editorHeight}\n              handleEditorChange={handleEditorChange}\n            />\n          </ResizableBox>\n          <div style={{ height: graphHeight, width }}>\n            <ChartSection\n              data={data}\n              style={{\n                height: `${graphHeight * 0.9 - 64}px`,\n                width: `${width}px`,\n              }}\n            />\n          </div>\n        </div>\n        <BottomAppBar onGenerateChartButtonPress={onGenerateChartButtonPress} />\n      </ThemeProvider>\n    </div>\n  )\n}\n\nexport default App\n","import { useLayoutEffect, useState } from 'react'\nimport debounce from 'lodash/debounce'\n\nexport function useWindowSize() {\n  const [size, setSize] = useState([0, 0])\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize(oldSize => {\n        return [window.innerWidth, window.innerHeight]\n      })\n    }\n    const debouncedFunction = debounce(updateSize, 150)\n    window.addEventListener('resize', debouncedFunction)\n    debouncedFunction()\n    return () => window.removeEventListener('resize', debouncedFunction)\n  }, [])\n  return size\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './ui/screens/app/App';\nimport * as serviceWorker from './serviceWorker';\nimport { monaco } from '@monaco-editor/react';\nmonaco\n  .init()\n  .then(monaco => {\n    monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n      noSemanticValidation: true,\n      noSyntaxValidation: true,\n    });\n  })\n  .catch(error =>\n    console.error('An error occurred during initialization of Monaco: ', error)\n  );\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}